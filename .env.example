# ============================================================================
# Whisper â€” Environment Configuration
# ============================================================================
# Copy this file to .env and adjust values for your environment.
# Default values are suitable for local development with Docker Compose.
#
# Usage:
#   cp .env.example .env
#   docker compose --env-file .env up
#
# For production deployments, see .env.production.example instead.
# ============================================================================

# --- PostgreSQL ---
POSTGRES_DB=whisper
POSTGRES_USER=whisper
POSTGRES_PASSWORD=whisper_dev                  # CHANGE in production

# --- Redis ---
REDIS_ADDR=redis:6379

# --- NATS ---
NATS_URL=nats://nats:4222

# --- WebSocket Server (wsserver) ---
LISTEN_ADDR=:8080
DATABASE_URL=postgres://whisper:whisper_dev@postgres:5432/whisper?sslmode=disable
SERVER_NAME=                                   # Auto-detected from hostname if empty
WORKER_POOL_SIZE=256                           # Max concurrent read-worker goroutines
MAX_CONNECTIONS=100000                         # Hard cap on total WebSocket connections
READ_TIMEOUT=10s                               # Timeout for WebSocket read operations
WRITE_TIMEOUT=10s                              # Timeout for WebSocket write operations

# --- Frontend (Vite build args) ---
VITE_WS_URL=ws://localhost:8080/ws
VITE_API_URL=http://localhost:8080

# --- Grafana ---
GF_SECURITY_ADMIN_PASSWORD=whisper             # CHANGE in production
GF_USERS_ALLOW_SIGN_UP=false
